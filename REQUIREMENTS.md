# プロダクト要件定義書：『宿ガチャ』 Ver. 1.0

## 1. プロジェクト概要

**プロダクト名**: 宿ガチャ (Yado Gacha)

**目的**: 予測不能な「偶然」を、最高の「ワクワク」に変える、新しい宿泊予約体験を創造する。地方のホテル・旅館が抱える機会損失問題を、旅行者の新しい喜びへと転換させる。

## 2. 登場人物（アクター）

- **ユーザー**: 宿泊施設を予約し、宿泊する個人。
- **ホテルパートナー**: 宿泊施設をプラットフォームに提供し、予約を管理する事業者。
- **管理者**: ユーザー、ホテル、予約情報などを管理する、我々運営チーム。

## 3. 機能要件

### 【A】ユーザー向けスマートフォンアプリ（iOS / Android）

#### A-1. ユーザー認証機能
- A-1-1. 新規登録: メールアドレスとパスワードによる、基本的な会員登録機能。
- A-1-2. ログイン: 登録した情報でのログイン機能。
- A-1-3. ソーシャルログイン: Apple ID, Googleアカウントを利用した、簡単なログイン・新規登録機能。
- A-1-4. パスワードリセット: パスワードを忘れた際の、再設定機能。

#### A-2. ガチャ検索・プラン選択機能
- A-2-1. 検索条件入力: ユーザーはトップ画面で、「エリア」「宿泊日」「人数」の3つを入力する。
- A-2-2. プラン表示: 検索条件に基づき、以下の2つのガチャプランを、価格と共に明確に表示する。
  - ① すぐわかるガチャ: 決済直後に宿泊先が判明するプラン。
  - ② 当日わかるガチャ: 宿泊当日に宿泊先が判明する、より安価なプラン。
- A-2-3. 品質保証の表示: どちらのプランを選んでも、一定の品質（例：「快適な滞在をお約束する、ユニークなホテル・旅館」）が保証されていることを、明示する。

#### A-3. 予約・決済機能
- A-3-1. 予約者情報入力: 宿泊者の氏名、連絡先などを入力する。
- A-3-2. 決済処理: クレジットカード決済機能を実装。Stripe等の外部決済代行サービスと連携する。
- A-3-3. 予約確定: 決済完了後、予約が確定され、データベースに予約情報が記録される。

#### A-4. 結果発表機能
- A-4-1. ガチャアニメーション: 宿泊先が判明するタイミングで、ユーザーの期待感を最大化させる、楽しく、リッチなアニメーション（例：ガチャカプセルが開くなど）を再生する。
- A-4-2. 結果表示: アニメーションの後、決定した宿泊施設の以下の情報を、明確に表示する。
  - ホテル名
  - ホテルの写真（複数枚）
  - 住所（地図アプリへのリンク付き）
  - 電話番号
  - チェックイン／チェックアウト時間
- A-4-3. 結果表示のタイミング制御: 「当日わかるガチャ」の場合、宿泊当日の指定時間（例：正午12:00）になるまで、結果が表示されないように制御する。

#### A-5. マイページ機能
- A-5-1. 予約履歴の表示: 「今後の予約」「過去の予約」を一覧で表示する。
- A-5-2. 今後の予約の詳細: 「当日わかるガチャ」の予約詳細画面では、「ホテルがわかるまで、あと〇日！」といったカウントダウンを表示し、期待感を醸成する。
- A-5-3. プロフィール編集: 氏名やパスワードなどの、会員情報を変更できる。

#### A-6. 通知機能
- A-6-1. プッシュ通知: 以下のタイミングで、ユーザーにプッシュ通知を送信する。
  - 予約完了時
  - 「当日わかるガチャ」の結果発表時
  - 宿泊前日のリマインダー

### 【B】ホテルパートナー向けWeb管理画面

#### B-1. ホテル認証機能
- B-1-1. ログイン: 我々が発行したIDとパスワードで、管理画面にログインできる。

#### B-2. 空室在庫管理機能
- B-2-1. 在庫登録: カレンダー形式のUIで、日付を選択し、「提供する部屋数」と「1部屋あたりの販売価格（卸値）」を、簡単に入力・登録できる。
- B-2-2. 在庫編集・削除: 登録した在庫を、いつでも簡単に変更・削除できる。

#### B-3. 予約管理機能
- B-3-1. 予約一覧表示: 『宿ガチャ』経由で成立した予約を、日付ごとに一覧で確認できる。
- B-3-2. 予約詳細表示: 各予約の、宿泊者情報（氏名、人数、連絡先など）を確認できる。

## 4. 非機能要件

- **ユーザビリティ**: ターゲットユーザーである若者層が、説明書なしで、直感的に使える、シンプルで楽しいUI/UX。
- **パフォーマンス**: アプリの起動、画面遷移、決済処理などが、ストレスなく、高速に実行されること。（例：各画面の表示速度3秒以内）
- **セキュリティ**: ユーザーの個人情報や、決済情報を、適切に暗号化し、安全に管理すること。
- **拡張性**: 将来の「レストランガチャ」や「自社ホテル連携」などを見据え、機能追加がしやすい、柔軟なシステム設計にすること。